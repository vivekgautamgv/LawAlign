!function(e,t){function i(e,t){return typeof e===t}function a(){var e,t,a,n,o,s,r;for(var c in l)if(l.hasOwnProperty(c)){if(e=[],t=l[c],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(a=0;a<t.options.aliases.length;a++)e.push(t.options.aliases[a].toLowerCase());for(n=i(t.fn,"function")?t.fn():t.fn,o=0;o<e.length;o++)s=e[o],r=s.split("."),1===r.length?u[r[0]]=n:(!u[r[0]]||u[r[0]]instanceof Boolean||(u[r[0]]=new Boolean(u[r[0]])),u[r[0]][r[1]]=n),d.push((n?"":"no-")+r.join("-"))}}function n(e){var t=f.className,i=u._config.classPrefix||"";if(p&&(t=t.baseVal),u._config.enableJSClass){var a=new RegExp("(^|s)"+i+"no-js(s|$)");t=t.replace(a,"$1"+i+"js$2")}u._config.enableClasses&&(t+=" "+i+e.join(" "+i),p?f.className.baseVal=t:f.className=t)}function o(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):p?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function s(){var e=t.body;return e||(e=o(p?"svg":"body"),e.fake=!0),e}function r(e,i,a,n){var r,d,l,c,u="modernizr",h=o("div"),p=s();if(parseInt(a,10))for(;a--;)l=o("div"),l.id=n?n[a]:u+(a+1),h.appendChild(l);return r=o("style"),r.type="text/css",r.id="s"+u,(p.fake?p:h).appendChild(r),p.appendChild(h),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(t.createTextNode(e)),h.id=u,p.fake&&(p.style.background="",p.style.overflow="hidden",c=f.style.overflow,f.style.overflow="hidden",f.appendChild(p)),d=i(h,e),p.fake?(p.parentNode.removeChild(p),f.style.overflow=c,f.offsetHeight):h.parentNode.removeChild(h),!!d}var d=[],l=[],c={_version:"3.5.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var i=this;setTimeout(function(){t(i[e])},0)},addTest:function(e,t,i){l.push({name:e,fn:t,options:i})},addAsyncTest:function(e){l.push({name:null,fn:e})}},u=function(){};u.prototype=c,u=new u;var h=c._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];c._prefixes=h;var f=t.documentElement,p="svg"===f.nodeName.toLowerCase();c.testStyles=r,a(),n(d),delete c.addTest,delete c.addAsyncTest;for(var m=0;m<u._q.length;m++)u._qm;e.Modernizr=u}(window,document),!function(e){e.fn.theiaStickySidebar=function(t){function i(t,i){return!0===t.initialized||!(e("body").width()<t.minWidth)&&(function(t,i){t.initialized=!0,i.each(function(){function i(){n.fixedScrollTop=0,n.sidebar.removeClass("is-fixed").css({"min-height":"1px"}),n.stickySidebar.css({position:"static",width:"",transform:"none"})}var n={};n.sidebar=e(this),n.options=t||{},n.container=e(n.options.containerSelector),0==n.container.length&&(n.container=n.sidebar.parent()),n.sidebar.css({position:n.options.defaultPosition,overflow:"visible","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box"}),n.stickySidebar=n.sidebar.find(".theiaStickySidebar"),n.marginBottom=parseInt(n.sidebar.css("margin-bottom")),n.paddingTop=parseInt(n.sidebar.css("padding-top")),n.paddingBottom=parseInt(n.sidebar.css("padding-bottom"));var o=n.stickySidebar.offset().top,s=n.stickySidebar.outerHeight();n.stickySidebar.css("padding-top",1),n.stickySidebar.css("padding-bottom",1),o-=n.stickySidebar.offset().top,s=n.stickySidebar.outerHeight()-s-o,0==o?(n.stickySidebar.css("padding-top",0),n.stickySidebarPaddingTop=0):n.stickySidebarPaddingTop=1,0==s?(n.stickySidebar.css("padding-bottom",0),n.stickySidebarPaddingBottom=0):n.stickySidebarPaddingBottom=1,n.previousScrollTop=null,n.fixedScrollTop=0,i(),n.onScroll=function(n){if(n.stickySidebar.is(":visible"))if(e("body").width()<n.options.minWidth)i();else{if(n.options.disableOnResponsiveLayouts){var o=n.sidebar.outerWidth("none"==n.sidebar.css("float"));if(o+50>n.container.width())return void i()}var s,r,d=e(document).scrollTop(),l="static";if(d>=n.sidebar.offset().top+(n.paddingTop-n.options.additionalMarginTop)){var c,u=n.paddingTop+t.additionalMarginTop,h=n.paddingBottom+n.marginBottom+t.additionalMarginBottom,f=n.sidebar.offset().top,p=n.sidebar.offset().top+(s=n.container,r=s.height(),s.children().each(function(){r=Math.max(r,e(this).height())}),r),m=0+t.additionalMarginTop,g=n.stickySidebar.outerHeight()+u+h<e(window).height();c=g?m+n.stickySidebar.outerHeight():e(window).height()-n.marginBottom-n.paddingBottom-t.additionalMarginBottom;var y=f-d+n.paddingTop,v=p-d-n.paddingBottom-n.marginBottom,b=n.stickySidebar.offset().top-d,w=n.previousScrollTop-d;"fixed"==n.stickySidebar.css("position")&&"modern"==n.options.sidebarBehavior&&(b+=w),"stick-to-top"==n.options.sidebarBehavior&&(b=t.additionalMarginTop),"stick-to-bottom"==n.options.sidebarBehavior&&(b=c-n.stickySidebar.outerHeight()),b=w>0?Math.min(b,m):Math.max(b,c-n.stickySidebar.outerHeight()),b=Math.max(b,y),b=Math.min(b,v-n.stickySidebar.outerHeight());var k=n.container.height()==n.stickySidebar.outerHeight();l=!k&&b==m||!k&&b==c-n.stickySidebar.outerHeight()?"fixed":d+b-n.sidebar.offset().top-n.paddingTop<=t.additionalMarginTop?"static":"absolute"}if("fixed"==l){var j=e(document).scrollLeft();n.stickySidebar.css({position:"fixed",width:a(n.stickySidebar)+"px",transform:"translateY("+b+"px)",left:n.sidebar.offset().left+parseInt(n.sidebar.css("padding-left"))-j+"px",top:"0px"})}else if("absolute"==l){var x={};"absolute"!=n.stickySidebar.css("position")&&(x.position="absolute",x.transform="translateY("+(d+b-n.sidebar.offset().top-n.stickySidebarPaddingTop-n.stickySidebarPaddingBottom)+"px)",x.top="0px"),x.width=a(n.stickySidebar)+"px",x.left="",n.stickySidebar.css(x)}else"static"==l&&i();"static"!=l&&(1==n.options.updateSidebarHeight&&n.sidebar.addClass("is-fixed").css({"min-height":n.stickySidebar.outerHeight()+n.stickySidebar.offset().top-n.sidebar.offset().top+n.paddingBottom}),n.sidebar.hasClass("is-alreay-loaded")||(tie_animate_element(n.sidebar),n.sidebar.addClass("is-alreay-loaded"))),n.previousScrollTop=d}},n.onScroll(n),e(document).on("scroll."+n.options.namespace,function(e){return function(){e.onScroll(e)}}(n)),e(window).on("resize."+n.options.namespace,function(e){return function(){e.stickySidebar.css({position:"static"}),e.onScroll(e)}}(n)),"undefined"!=typeof ResizeSensor&&new ResizeSensor(n.stickySidebar[0],function(e){return function(){e.onScroll(e)}}(n))})}(t,i),!0)}function a(e){var t;try{t=e[0].getBoundingClientRect().width}catch(e){}return void 0===t&&(t=e.width()),t}return(t=e.extend({containerSelector:"",additionalMarginTop:0,additionalMarginBottom:0,updateSidebarHeight:!0,minWidth:0,disableOnResponsiveLayouts:!0,sidebarBehavior:"modern",defaultPosition:"relative",namespace:"TSS"},t)).additionalMarginTop=parseInt(t.additionalMarginTop)||0,t.additionalMarginBottom=parseInt(t.additionalMarginBottom)||0,function(t,a){i(t,a)||(console.log("TSS: Body width smaller than options.minWidth. Init is delayed."),e(document).on("scroll."+t.namespace,function(t,a){return function(n){var o=i(t,a);o&&e(this).unbind(n)}}(t,a)),e(window).on("resize."+t.namespace,function(t,a){return function(n){var o=i(t,a);o&&e(this).unbind(n)}}(t,a)))}(t,this),this}}(jQuery),!function(e){e&&(e.fn.tiesticky=function(t){return this.each(function(){var i=e(this),a=i.data("tiesticky"),n="object"==typeof t&&t;n=e.extend(!0,{},TieSticky.options,n),a||((a=new TieSticky(this,n)).init(),i.data("tiesticky",a)),"string"==typeof t&&(a[t](),"destroy"===t&&i.removeData("tiesticky"))})})}(window.jQuery),function(e,t){"use strict";"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.TieSticky=t()}(this,function(){"use strict";function e(e){this.callback=e,this.ticking=!1}function t(e,i){var a;i=function n(e){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var t,i,a,o=e||{};for(i=1;i<arguments.length;i++){var s=arguments[i]||{};for(t in s)"object"!=typeof o[t]||(a=o[t])&&"undefined"!=typeof window&&(a===window||a.nodeType)?o[t]=o[t]||s[t]:o[t]=n(o[t],s[t])}return o}(i,t.options),this.lastKnownScrollY=0,this.elem=e,this.tolerance=(a=i.tolerance)===Object(a)?a:{down:a,up:a},this.classes=i.classes,this.behaviorMode=i.behaviorMode,this.scroller=i.scroller,this.initialised=!1,this.onPin=i.onPin,this.onUnpin=i.onUnpin,this.onTop=i.onTop,this.onNotTop=i.onNotTop,this.onBottom=i.onBottom,this.onNotBottom=i.onNotBottom,this.offset=i.offset,this.windwidth=i.windwidth,this.offset="default"!=this.behaviorMode?this.offset+this.elem.offsetHeight:this.offset,this.offset=$body.hasClass("admin-bar")?this.offset-i.adminBarH:this.offset,this.offset=$body.hasClass("border-layout")?this.offset-25:this.offset,this.offset=$body.hasClass("border-layout")&&this.windwidth<992?this.offset+25:this.offset,this.menuHeight=i.menuHeight,this.isHightestThanSticky=i.isHightestThanSticky,this.heightDiff=i.heightDiff}var i={bind:!!function(){}.bind,classList:"classList"in document.documentElement,rAF:!!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)};return window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,e.prototype={constructor:e,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},t.prototype={constructor:t,init:function(){return t.cutsTheMustard?("default"==this.behaviorMode&&this.elem.classList.add("default-behavior-mode"),this.debouncer=new e(this.update.bind(this)),this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this):void 0},destroy:function(){var e=this.classes;this.initialised=!0,this.elem.classList.remove(e.unpinned,e.pinned,e.top,e.notTop,e.initial,"fixed-nav"),this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var e=this.elem.classList,t=this.classes;!e.contains(t.pinned)&&e.contains(t.unpinned)||(e.add(t.unpinned),e.remove(t.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var e=this.elem.classList,t=this.classes;e.contains(t.unpinned)&&(e.remove(t.unpinned),e.add(t.pinned),this.onPin&&this.onPin.call(this))},top:function(){var e=this.elem.classList,t=this.classes;e.contains(t.top)||(e.add(t.top),e.remove(t.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var e=this.elem.classList,t=this.classes;e.contains(t.notTop)||(e.add(t.notTop),e.remove(t.top),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){var e=this.elem.classList,t=this.classes;e.contains(t.bottom)||(e.add(t.bottom),e.remove(t.notBottom),this.onBottom&&this.onBottom.call(this))},notBottom:function(){var e=this.elem.classList,t=this.classes;e.contains(t.notBottom)||(e.add(t.notBottom),e.remove(t.bottom),this.onNotBottom&&this.onNotBottom.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop},getViewportHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getElementPhysicalHeight:function(e){return Math.max(e.offsetHeight,e.clientHeight)},getScrollerPhysicalHeight:function(){return this.scroller===window||this.scroller===document.body?this.getViewportHeight():this.getElementPhysicalHeight(this.scroller)},getDocumentHeight:function(){var e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,t.scrollHeight,e.offsetHeight,t.offsetHeight,e.clientHeight,t.clientHeight)},getElementHeight:function(e){return Math.max(e.scrollHeight,e.offsetHeight,e.clientHeight)},getScrollerHeight:function(){return this.scroller===window||this.scroller===document.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(e){var t=0>e,i=e+this.getScrollerPhysicalHeight()>this.getScrollerHeight();return t||i},toleranceExceeded:function(e,t){return Math.abs(e-this.lastKnownScrollY)>=this.tolerance[t]},shouldUnpin:function(e,t){var i=e>this.lastKnownScrollY,a=e>=this.offset;return i&&a&&t},shouldPin:function(e,t){var i=e<this.lastKnownScrollY,a=e<=this.offset;return i&&t||a},update:function(){var e=this.getScrollY(),t=e>this.lastKnownScrollY?"down":"up",i=this.toleranceExceeded(e,t);this.isOutOfBounds(e)||("default"==this.behaviorMode&&this.isHightestThanSticky&&this.offset<e&&e<this.offset+this.heightDiff?this.elem.classList.add("just-before-sticky"):this.elem.classList.remove("just-before-sticky"),e<=this.offset-this.elem.offsetHeight&&"default"!=this.behaviorMode?(this.top(),this.elem.classList.add("unpinned-no-transition")):e<=this.offset&&"default"==this.behaviorMode?this.top():e>this.offset&&(this.notTop(),"default"==this.behaviorMode&&e<this.offset+100&&jQuery("#autocomplete-suggestions").hide()),e+this.getViewportHeight()>=this.getScrollerHeight()?this.bottom():this.notBottom(),this.shouldUnpin(e,i)?this.unpin():this.shouldPin(e,i)&&(this.pin(),e>this.offset&&"default"!=this.behaviorMode&&(this.elem.classList.remove("unpinned-no-transition"),jQuery("#autocomplete-suggestions").hide())),this.lastKnownScrollY=e)}},t.options={tolerance:{up:0,down:0},offset:0,behaviorMode:"upwards",scroller:window,classes:{initial:"fixed",pinned:"fixed-pinned",unpinned:"fixed-unpinned",top:"fixed-top",notTop:"fixed-nav",bottom:"fixed-bottom",notBottom:"fixed-not-bottom"}},t.cutsTheMustard=void 0!==i&&i.rAF&&i.bind&&i.classList,t});var megaMenuAjax=!1;jQuery(document).ready(function(){"use strict";function e(e,t,i,a,n,o,s,r){var d=7,l=!0;n&&!e.hasClass("is-loaded")&&(e.addClass("is-loaded"),i?(d=a,l=!1):e.hasClass("menu-item-has-children")&&(d=4),megaMenuAjax=jQuery.ajax({url:tie.ajaxurl,type:"post",data:{action:"tie_mega_menu_load_ajax",id:n,featured:l,number:d,is_pagination:s,page:r,post_icon:o},beforeSend:function(){t.find(".loader-overlay").length||t.addClass("is-loading").append(tie.ajax_loader)},success:function(e){if(l){var i=jQuery(e);t.html(i)}else{var i='<div class="megamenu-loaded-ajax" id="loaded-'+n+'" data-id="'+n+'" data-icon="'+o+'" data-current="'+r+'">'+e+"</div>";t.append(i)}t.find(".megamenu-loaded-ajax").hide();var a=t.find("#loaded-"+n+", .mega-check-also").show().find(".mega-menu-post"),s=t.find(".mega-recent-post"),d=0;s.add(a).each(function(){d++,jQuery(this).addClass("tie-animate-slideInUp").attr("style","animation-delay: 0."+d+"s")}),t.find(".slider-arrow-nav").fadeIn("slow"),tie_animate_element(t)},error:function(){e.removeClass("is-loaded")},complete:function(){t.removeClass("is-loading").find(".loader-overlay").remove()}}))}function t(){if($mainNav.length){var e,t=window.innerWidth;if(t>992){$body.hasClass("admin-bar")&&(e=783>t?46:32,e=601>t?0:e);var i=$mainNav.outerHeight();$mainNav.parent().css({height:i}),$mainNav.tiesticky("destroy"),$mainNav.tiesticky({offset:$mainNav.offset().top,behaviorMode:tie.sticky_behavior,tolerance:{up:0,down:0},windwidth:t,menuHeight:i,heightDiff:i-60,adminBarH:e,isHightestThanSticky:i>60?!0:!1})}}}function i(){if(jQuery.fn.theiaStickySidebar){var e=jQuery(".is-sticky",".main-content-row");if(e.length){var t=35,i=tie.sticky_desktop?68:0;i="default"!=tie.sticky_behavior?8:i,i=$body.hasClass("admin-bar")?i+32:i,i=$body.hasClass("border-layout")?i+30:i,e.theiaStickySidebar({additionalMarginTop:i,additionalMarginBottom:t,minWidth:990})}}}tie.lazyload&&$mainNav.on("mouseenter",".mega-menu",function(){var e=jQuery(this).find("[data-lazy-bg]"),t="";null!==e.attr("style")&&(t=e.attr("style")),e.attr("style",t+"background-image:url("+e.data("lazy-bg")+")"),e.removeAttr("data-lazy-bg")}),$mainNav.on("mouseenter",".mega-menu-posts",function(){var t=jQuery(this),i=t.attr("data-id"),a=t.attr("data-icon"),n=t.attr("data-pagination"),o=t.find(".mega-ajax-content"),s=!1,r=0;t.hasClass("mega-cat")&&(s=!0,r=5,t.has(".cats-vertical").length&&(r=4)),e(t,o,s,r,i,a,n,1)}),$mainNav.on("mouseenter",".mega-sub-cat",function(){var t=jQuery(this),i=t.attr("data-id"),a=t.attr("data-icon"),n=t.closest(".mega-menu-posts").attr("data-pagination");if(!t.hasClass("is-active")){var o=t.closest(".mega-menu"),s=o.find(".mega-ajax-content"),r=5;if(o.has(".cats-vertical").length&&(r=4),o.find(".mega-sub-cat").removeClass("is-active"),t.addClass("is-active"),s.find("#loaded-"+i).length){s.find(".megamenu-loaded-ajax").hide();s.find("#loaded-"+i+", .mega-check-also .megamenu-loaded-ajax").show();return!1}return t.removeClass("is-loaded"),e(t,s,!0,r,i,a,n,1),!1}}),$mainNav.on("click",".megamenu-pagination",function(){var t=jQuery(this),i=t.closest(".mega-menu-posts"),a=t.closest("[data-id]"),n=i.find(".mega-ajax-content"),o=a.attr("data-id"),s=a.attr("data-current"),r=a.attr("data-icon"),d=i.attr("data-pagination"),l=!1,c=0;return d&&("undefined"==typeof s||null===s||isNaN(s))&&(s=1),t.hasClass("pagination-disabled")?!1:(t.hasClass("next-posts")?s++:t.hasClass("prev-posts")&&s--,i.removeClass("is-loaded"),i.hasClass("mega-cat")?(l=!0,c=5,i.has(".cats-vertical").length&&(c=4),i.find("#loaded-"+o).fadeOut("fast",function(){jQuery(this).remove()})):i.hasClass("mega-recent-featured")&&i.attr("data-current",s),void e(i,n,l,c,o,r,d,s))}),tie.sticky_desktop&&(t(),$window.resize(t)),i(),jQuery("nav > ul","#theme-header").on("focus.wparia  mouseenter.wparia",'[aria-haspopup="true"]',function(e){jQuery(e.currentTarget).attr("aria-expanded",!0)}),jQuery("nav > ul","#theme-header").on("blur.wparia  mouseleave.wparia",'[aria-haspopup="true"]',function(e){jQuery(e.currentTarget).attr("aria-expanded",!1)});var a=navigator.userAgent;a.match(/iPad/i)&&a.search("Safari")>=0&&a.search("Chrome")<0&&jQuery("#main-nav li.menu-item-has-children a, #main-nav li.mega-menu a, .top-bar li.menu-item-has-children a").attr("onclick","return true")});
